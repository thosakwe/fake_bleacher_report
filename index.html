<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Fake B/R Quotes</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="site.css">
</head>

<body>
    <div id="content">
        <div id="backdrop"></div>
        <div id="backdrop-overlay"></div>
        <div id="avatar">
            <div id="quotes">&ldquo;</div>
        </div>
        <textarea id="title" autofocus autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">Wait, we were up?</textarea>
        <hr>
        <textarea id="subtitle" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">J.R. Smith when asked about Game 1 ending</textarea>
        <input id="files" type="file" accept="image/*" style="visibility:hidden;height:0;width:0;overflow:hidden" >
        <div id="logo">B/R</div>
    </div>
    <script>
        var backdrop = document.querySelector('#backdrop');
        var avatar = document.querySelector('#avatar');
        var files = document.querySelector('#files');
        var logo = document.querySelector('#logo');
        document.querySelector('#backdrop-overlay').onclick = clickHandler('#backdrop');
        backdrop.onclick = clickHandler('#backdrop');
        backdrop.style.backgroundImage = "url('" + 'https://www.nbcsports.com/bayarea/sites/csnbayarea/files/styles/article_hero_image/public/2018/06/01/smithjr.jpg?itok=fPgDaZkW' + "')";
        avatar.style.backgroundImage = "url('" + 'https://i.ytimg.com/vi/73AX8npuKPY/maxresdefault.jpg' + "')";
        avatar.onclick = clickHandler('#avatar');

        function clickHandler(query) {
            return function (e) {
                files.onchange = function () {
                    if (files.files.length) {
                        var file = files.files[0];
                        var rdr = new FileReader();

                        rdr.onerror = function (e) {
                            alert('Oops! Something went wrong.');
                        };

                        rdr.onload = function () {
                            console.info(rdr.result);
                            document.querySelector(query).style.backgroundImage = "url('" + rdr.result + "')";
                        };

                        rdr.readAsDataURL(file);
                    }
                };

                files.click();
            };
        }
    </script>
</body>

</html>